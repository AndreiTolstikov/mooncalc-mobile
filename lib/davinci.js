/* SEC Web App SDK 1.0, Copyright ¨Ï 2013 Samsung Electronics Co., Ltd. All rights reserved. */(function(){$.davinci||($.davinci={}),$(document).ready(function(){var e=$('input[type="radio"][checked]');for(var t=0;t<e.length;t++)e[t].setAttribute("checked","checked"),e[t].checked=!0;var n=navigator.userAgent,r=navigator.platform,i=["iOS","Android","Emulator","Other"],s=[];s[0]=n.match(/(?:i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS )([^\\s;]+)/),s[1]=n.match(/(?:(Android ))([^\\s;]+)/),s[2]=n.match(/(?:(Da[Vv]inci Emulator\/))([^\\s;]+)/);var o,u,a;for(var t=0;t<s.length;t++)if(s[t])break;if(t<s.length){o=i[t];if(s[t]){var f=s[t],l=f[f.length-1].toLowerCase().replace(/_/g,".").replace(/[\-+]/g,""),c=l.search(/([^\d\.])/);c!==-1?u=l.substr(0,c):u=l}}else o=i[t],$.davinci.osVersion="";o==="Emulator"?a="Emulator":o!=="iOS"&&o!=="Android"&&r!=="iPad"?a="Desktop":r==="iPad"||o==="Android"&&parseInt(u,10)===3||o==="Android"&&parseInt(u,10)===4&&n.search(/mobile/i)===-1?a="Tablet":a="Phone",$.davinci.getOSName=function(){return o},$.davinci.getOSVersion=function(){return u},$.davinci.getDeviceType=function(){return a};var a=$.davinci.getDeviceType();a==="Emulator"&&($("body").addClass("davinci-emulator"),$.support.touch=!1),($("body").hasClass("davinci-design")||$("body").hasClass("davinci-emulator"))&&$("head").append('<style id="webkit-scrollbar">::-webkit-scrollbar {display:none;}</style>')}),$.davinci.addAutoAnimation=function(e,t,n){$(document).on({pageshow:function(e){$(t).addClass(n)},pagehide:function(e){$(t).removeClass(n)}},e)};var e=$.fn.addClass;$.fn.addClass=function(t){if(t&&typeof t=="string"){var n,r,i;for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(t==="ui-li-heading"||t==="ui-li-desc"){var s=i;do{s=s.parentNode;if(s.classList.contains("dvc-custom-listitem"))return this}while(s.tagName!=="LI")}}}var o=e.call(this,t);return o}})(),$(function(){$.davinci||($.davinci={}),$.davinci.ko||($.davinci.ko={}),$.davinci.ko.applyBindings=function(e,t,n){var r={};r[t]=e;if(typeof n=="string"){var i=$(n);if(i){if(i.length==0)throw new Error("There is no match element");i.each(function(e,t){ko.applyBindings(r,t)})}}else{ko.applyBindings(r,n);var s=$(n)}}}),function(){var e=function(e){$(e).find(".dvc-template").each(function(e,t){var n=$(t),r="<script";n.attr("type")?r+=' type="'+n.attr("type")+'"':r+=' type="text/template"',r+=">";var i="</script>";n.removeClass("dvc-template");var s=this.outerHTML;n.replaceWith($(r+s+i))})};$("body.davinci-design").length==0&&e(document),$(document).on("pagebeforecreate",function(t){$("body.davinci-design").length==0&&e(t.target)})}(),$(document).ready(function(){var e=ko.applyBindings;ko.applyBindings=function(){e.apply(this,Array.prototype.slice.call(arguments)),t.refresh()};var t=new function(){var e=[],t=0,n=function(e){t+=e?t>0?-1:0:-1},r=function(t){var n=e.length;while(--n>0)if(e[n].element==t)return!0;return!1},i=function(n,i,s){if(t)return;r(n)||e.push({element:n,callback:i,interval:s})},s=function(){setTimeout(function(){var t=null;while(e.length>0)t=e.pop(),t.callback&&t.callback()},1)};return{hold:n,add:i,refresh:s}},n=function(e){var t=$(e),n=t.data("role");if(n==null)if(t.is("option")){var r=t.parent(),i=r.data("role");i=="slider"?r.slider("refresh"):r.is("select")&&r.selectmenu("refresh")}else t.hasClass("ui-btn")?(t.data("buttonElements",null),t.buttonMarkup()):t.is("button")&&t.button("refresh");else n=="button"?(t.data("buttonElements",null),t.buttonMarkup()):n!="list-divider"&&n!="page"&&t[n]("refresh")},r=function(e){var t=$(e),n=t.attr("type"),r=t.attr("data-type");r&&r=="range"?t.slider("refresh"):n=="button"&&t.button("refresh")},i=ko.bindingHandlers.value.update;ko.bindingSelector.add("value",{update:function(e,n){i.apply(this,Array.prototype.slice.call(arguments));var s=$(e);t.add(s[0],function(){r(s)},1)}},function(){return!0}),ko.bindingSelector.add("text",{update:function(e,r){var i=$(e),s=i.data("role");if(s==null&&i.is("label")){var o=i.parent();if(o.hasClass("ui-checkbox")||o.hasClass("ui-radio")){var u=i.find(".ui-btn-text"),a=ko.utils.unwrapObservable(r);u.text(a);return}}ko.utils.setTextContent(e,r()),t.add(i[0],function(){n(i)},1)}},function(){return!0}),ko.bindingSelector.add("query",{update:function(e,t,n,r,i,s){var o=ko.utils.unwrapObservable(t()||{});$(e).dvcDataSource("query",o)}},function(e){if($(e).is("div[data-role='dvcDataSource']"))return!0}),ko.bindingSelector.add("src",{update:function(e,t){var n=ko.utils.unwrapObservable(t()||{});$(e).attr("src",n)}},function(e){if(e.hasOwnProperty("src"))return!0}),ko.bindingSelector.forcingRefreshFromElement=function(e){var t=$(e).parents().andSelf().filter("[data-role='listview']"),n=$(e).closest("[data-role='dvciScrollview']");if(t)try{$(t).listview("refresh"),setTimeout(function(){n.dvciScrollview("refresh")},1)}catch(r){}};var s=new function(){var e=function(){};return e.prototype=ko.utils.extend(new ko.templateEngine,{renderTemplateSource:function(e,t,n){var r=e.data("precompiled");r||(r=_.template("<% with($data) { %> "+e.text()+" <% } %>"),e.data("precompiled",r));var i=r(t).replace(/\s+/g," ");return ko.utils.parseHtmlFragment(i)},createJavaScriptEvaluatorBlock:function(e){return"<%= "+e+" %>"}}),new e};ko.bindingSelector.add("template",{init:function(e,t){var n=ko.utils.unwrapObservable(t());if(typeof n!="string"&&!n.name&&e.nodeType==1){var r=$(e).find("script");if(r.length)switch(r.attr("type")){case"underscore":case"text/template.underscore":case"ko":case"default":case"text/template":case"text/template.ko":case"text/template.default":var i=r[0];return(new ko.templateSources.anonymousTemplate(e)).text(i.innerHTML),{controlsDescendantBindings:!0}}var i=e.nodeType==1?e.childNodes:ko.virtualElements.childNodes(e),s=ko.utils.moveCleanedNodesToContainerElement(i);(new ko.templateSources.anonymousTemplate(e)).nodes(s)}return{controlsDescendantBindings:!0}},update:function(e,t,n,r,i,o){var u=ko.utils.unwrapObservable(t()||{}),a=u.updateOption||{method:"set",at:"append",type:"default"};if("foreach"in u){var f=$(e).data("_viewmodel")||[],l,c;if("at"in a)switch(a.at){case"prepend":l=u.foreach,c=f;break;case"append":default:l=f,c=u.foreach}else l=f,c=u.foreach;switch(a.method){case"union":u.foreach=_.union(l,c);break;case"intersection":u.foreach=_.intersection(l,c);break;case"difference":u.foreach=_.difference(l,c);break;case"set":default:}$(e).data("_viewmodel",u.foreach)}var h=Array.prototype.slice.call(arguments);h[1]=function(){return u};switch(a.type||$("#"+u.name).attr("type")){case"underscore":case"text/template.underscore":ko.setTemplateEngine(s);break;case"ko":case"default":case"text/template":case"text/template.ko":case"text/template.default":default:ko.setTemplateEngine(ko.nativeTemplateEngine.instance)}var p=o.update.apply(this,h);return setTimeout(function(){ko.bindingSelector.forcingRefreshFromElement(e)},1),ko.setTemplateEngine(ko.nativeTemplateEngine.instance),$(document).trigger("create"),p}},function(e){return!0})}),function(){var e=function(){var e=this,t=[],n=function(){return typeof ko!="undefined"&&ko.bindingHandlers?!0:!1},r=function(){var e=[],t=function(){},n=function(){var n=Array.prototype.slice.call(arguments),r=n.pop();for(key in e){var i=e[key].condition;if(typeof i=="function"&&i.apply(null,n)){var s=e[key].handler;if(r in s)return s[r].apply(null,n);return}}if(r in t)return t[r].apply(null,n)},r={init:function(){var e=Array.prototype.slice.call(arguments);return e.push(t),e.push("init"),n.apply(null,e)},update:function(){var e=Array.prototype.slice.call(arguments);return e.push(t),e.push("update"),n.apply(null,e)},add:function(n,i){if(i){var s={},o;for(o in n)s[o]=n[o];for(o in t)o in s||(s[o]=t[o]);e.push({condition:i,handler:s})}else{t=n;for(key in t)key in r||(r[key]=t[key])}}};return r},i=function(e,s,o){var u=function(e,t,n){var i=ko.bindingHandlers[e],s=i&&i instanceof r,o=null;i?s==0?(o=new r,o.add(i,null)):o=i:o=new r,o.add(t,n),ko.bindingHandlers[e]=o},a=function(){if(!n())return;t.timer=undefined;while(t.length>0)u.apply(null,t.shift());i=u};t.push(arguments),a()};e.add=function(e,t,n){i(e,t,n)},e.has=function(e,t){return typeof ko.bindingHandlers[e]!=undefined&&t in ko.bindingHandlers[e]?!0:!1},e.enableException=function(t){t?e._parseBindingsString&&(ko.bindingProvider.prototype.parseBindingsString=e._parseBindingsString):(e._parseBindingsString||(e._parseBindingsString=ko.bindingProvider.prototype.parseBindingsString),ko.bindingProvider.prototype.parseBindingsString=function(){try{return e._parseBindingsString.apply(this,arguments)}catch(t){console.log("ignore unmatched exception by enableException:false.")}})}};ko.bindingSelector=new e}(),function(e,t){e.widget("mobile.dvcDataSource",e.mobile.widget,{options:{bindonload:!0,autouibind:!0,showloadingmsg:!0,proxy:"jsonp",sourcetype:"json",url:"",method:"GET",query:"",timeout:2e3,key:"",action:"",value:"",schedule:0,initSelector:":jqmData(role='dvcDataSource')",targetId:""},classes:{CLS_WIDGET:"dvc-datasource"},data:function(e){var t=this;return arguments.length===0?this.jsonObject:(this.jsonObject=t._parseData(e),this)},apply:function(){var t=this.element,n=this,r=this.options;if(typeof ko!="undefined"){var i={};i[n._widgetId]=n.jsonObject;try{r.targetId?e.davinci.ko.applyBindings(n.jsonObject,n._widgetId,"#"+r.targetId):e.davinci.ko.applyBindings(n.jsonObject,n._widgetId,n.element[0].parentNode)}catch(s){n._error({code:1001,name:"DataBindingError",message:"Knockout.js applybindings run error."});return}}return this._trigger("complete",null,n),n},_create:function(){var t=this.element,n=this,r=this.options,i=this.classes;for(var s in r)(function(){var e=s;n[e]=function(t){return arguments.length===0?r[e]:(r[e]=t,n)}})();n._widgetId=n.element[0].id,r.bindonload&&e("body.davinci-design").length==0&&setTimeout(function(){n.load()},1),n.element.addClass(i.CLS_WIDGET)},_parseData:function(t){var n=this.options,r=this;if(n.sourcetype==="xml")try{t=e.xml2json(t)}catch(i){r._error({code:1002,name:"XmlParsingError",message:"Xml2JSON Parsing Error."});return}if(t==null||t===""){r._error({code:1003,name:"NullData",message:"Received Data is empty."});return}return t},_success:function(e){var n=this.options,r=this,i=this.element;r.data(e);var s=this._trigger("load",null,r);if(s!==t&&!s){r._loadingShowAndHide(!1);return}if(!n.autouibind){r._loadingShowAndHide(!1);return}var o=this._trigger("apply",null,r);(o||o===t)&&r.apply(),r._loadingShowAndHide(!1)},_error:function(e){var t=this.element,n=this,r={datasource:n,error:e};this._trigger("error",null,r),n._loadingShowAndHide(!1)},load:function(){return this._run(),this},store:function(){var e=this.options,t=this;return t._loadingShowAndHide(!0),t._isStorage()?t._storage():t.data(e.value),t._loadingShowAndHide(!1),t},_run:function(){var e=this.options,n=this;if(e.schedule===0&&n._runSchedule!==t){clearInterval(n._runSchedule),n._runSchedule=t;return}n._loadingShowAndHide(!0),n._isStorage()&&e.key!==t?(n._storage(),e.schedule&&n._runSchedule===t&&n._startSchedule()):n._isAjax()&&e.url!==t&&e.sourcetype!==t?(n._request(),e.schedule&&n._runSchedule===t&&n._startSchedule()):n._error({code:1e3,name:"DataSourceOptionError",message:"DataSource properties is not defined."})},_request:function(){var n=this.options,r=this;n.url!==t&&(e.ajaxSetup({error:function(e,t){var n;t==="parsererror"?n="Requested JSON parse failed.":t==="timeout"?n="Time out error.":t==="abort"?n="Ajax request aborted.":e.status===0?n="Not connect. Verify Network.":e.status==404?n="Requested page not found. [404]":e.status==500?n="Internal Server Error [500].":n="Uncaught Error. "+e.responseText,r._error({code:e.status,name:"HTTPError",message:n})}}),e.ajax({type:n.method||"GET",url:n.url,data:n.query||{},dataType:n.proxy==="jsonp"?"jsonp":n.sourcetype,timeout:n.timeout,success:function(e){r._success(e)}}))},_storage:function(){var e=this.options,n=this.element,r=this;if(!r._setStorage())r._error({code:1005,name:"StorageNotSupport",message:e.proxy+" is not support."});else try{e.action==="load"?r._success(r.webStorage[e.key]):e.action==="store"&&(e.key===t||e.value===t?r._error({code:1006,name:"StoreError",message:"Key value undefined or Data value undefined."}):(r.webStorage.setItem(e.key,JSON.stringify(e.value)),r.data(JSON.parse(r.webStorage[e.key])),this._trigger("store",null,r)))}catch(i){r._error({code:1007,name:"WebStorageException",message:i.name+" , "+i.message});return}},_setStorage:function(){var e=this.options,t=this;return"localStorage"in window&&window.localStorage!==null&&"sessionStorage"in window&&window.sessionStorage!==null?(e.proxy==="localStorage"?t.webStorage=window.localStorage:e.proxy==="sessionStorage"&&(t.webStorage=window.sessionStorage),!0):!1},_loadingShowAndHide:function(t){var n=this.options;n.showloadingmsg&&(t?e.mobile.showPageLoadingMsg(null,"Loading..."):e.mobile.hidePageLoadingMsg())},_startSchedule:function(){var e=this.options,t=this;t._runSchedule=setInterval(function(){t._run()},e.schedule)},_isStorage:function(){return this.options.proxy==="localStorage"||this.options.proxy==="sessionStorage"},_isAjax:function(){return this.options.proxy==="ajax"||this.options.proxy==="jsonp"}}),e(document).bind("pagecreate create",function(t){e(t.target).find(":jqmData(role='dvcDataSource')").dvcDataSource()})}(jQuery),function(e,t){e.widget("mobile.dvcImageButton",e.mobile.widget,{options:{text:"",type:"normal",upImage:"",downImage:"",corners:!1,shadow:!1,initSelector:":jqmData(role='dvcImageButton')"},_create:function(){var t=this.element,n=this,r=this.options,i={up:r.upImage,down:r.downImage};t.addClass("dvc-imagebutton dvc-imagebutton-up"),n.$buttonText=e("<div class='dvc-imagebutton-text'></div>"),t.append(n.$buttonText),n.type(r.type),n.text(r.text),n.corner(r.corners),n.shadow(r.shadow),n.image(i),n._attachEvent()},_attachEvent:function(){var e=this.element,t=this,n=this.options;e.bind({vmousedown:function(r){return n.downImage&&t.imageLoaded&&e.css("background-image",'url("'+n.downImage+'")'),e.addClass("dvc-imagebutton-down").removeClass("dvc-imagebutton-up"),!1},"vmouseup vmousecancel":function(t){return n.upImage?e.css("background-image",'url("'+n.upImage+'")'):e.css("background-image",""),e.addClass("dvc-imagebutton-up").removeClass("dvc-imagebutton-down"),!1}})},_imagePreLoad:function(e){var t=this,n=new Image;n.onload=function(){t.imageLoaded=!0},n.src=e},enable:function(e){if(arguments[0]==t)return!this.element.hasClass("ui-disabled");e==1?this.element.removeClass("ui-disabled"):this.element.addClass("ui-disabled")},type:function(e){var t=this.element,n=this.options;if(!arguments.length)return e=n.type,e;n.type=e,t.removeClass("dvc-imagebutton-tile dvc-imagebutton-stretch dvc-imagebutton-zoom dvc-imagebutton-center");switch(e){case"tile":t.addClass("dvc-imagebutton-tile");break;case"stretch":t.addClass("dvc-imagebutton-stretch");break;case"zoom":t.addClass("dvc-imagebutton-zoom");break;case"center":t.addClass("dvc-imagebutton-center")}},text:function(e){var t=this.element,n=this,r=this.options;if(!arguments.length)return r.text;r.text=e,n.$buttonText[0].innerHTML=e},image:function(e){var t=this.element,n=this,r=this.options;if(!arguments.length)return{up:r.upImage,down:r.downImage};r.upImage=e.up,r.downImage=e.down,r.upImage&&t.css("background-image",'url("'+e.up+'")'),this.imageLoaded=!1,this._imagePreLoad(r.downImage)},corner:function(e){var t=this.element;e?t.addClass("ui-btn-corner-all"):t.removeClass("ui-btn-corner-all")},shadow:function(e){var t=this.element;e?t.addClass("ui-shadow"):t.removeClass("ui-shadow")}}),e(document).bind("pagecreate create",function(t){e.mobile.dvcImageButton.prototype.enhanceWithin(t.target,!0)})}(jQuery),function(e,t){function A(e){return i===""?e:(e=e.charAt(0).toUpperCase()+e.substr(1),i+e)}var n=Math,r=t.createElement("div").style,i=function(){var e="t,webkitT,MozT,msT,OT".split(","),t,n=0,i=e.length;for(;n<i;n++){t=e[n]+"ransform";if(t in r)return e[n].substr(0,e[n].length-1)}return!1}(),s=i?"-"+i.toLowerCase()+"-":"",o=A("transform"),u=A("transitionProperty"),a=A("transitionDuration"),f=A("transformOrigin"),l=A("transitionTimingFunction"),c=A("transitionDelay"),h=/android/gi.test(navigator.appVersion),p=/iphone|ipad/gi.test(navigator.appVersion),d=/hp-tablet/gi.test(navigator.appVersion),v=A("perspective")in r,m="ontouchstart"in e&&!d&&navigator.userAgent.indexOf("Davinci")===-1,g=i!==!1,y=A("transition")in r,b="onorientationchange"in e?"orientationchange":"resize",w=m?"touchstart":"mousedown",E=m?"touchmove":"mousemove",S=m?"touchend":"mouseup",x=m?"touchcancel":"mouseup",T=function(){if(i===!1)return!1;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[i]}(),N=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),C=function(){return e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}(),k=v?" translateZ(0)":"",L=function(n,r){var i=this,c;i.wrapper=typeof n=="object"?n:t.getElementById(n),i.wrapper.style.overflow="hidden",i.scroller=i.wrapper.children[0],i.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:h,hideScrollbar:p,fadeScrollbar:p&&v,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(c in r)i.options[c]=r[c];i.x=i.options.x,i.y=i.options.y,i.options.useTransform=g&&i.options.useTransform,i.options.hScrollbar=i.options.hScroll&&i.options.hScrollbar,i.options.vScrollbar=i.options.vScroll&&i.options.vScrollbar,i.options.zoom=i.options.useTransform&&i.options.zoom,i.options.useTransition=y&&i.options.useTransition,i.options.zoom&&h&&(k=""),i.scroller.style[u]=i.options.useTransform?s+"transform":"top left",i.scroller.style[a]="0",i.scroller.style[f]="0 0",i.options.useTransition&&(i.scroller.style[l]="cubic-bezier(0.33,0.66,0.66,1)"),i.options.useTransform?i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px)"+k:i.scroller.style.cssText+=";position:absolute;top:"+i.y+"px;left:"+i.x+"px",i.options.useTransition&&(i.options.fixedScrollbar=!0),i.refresh(),i._bind(b,e),i._bind(w),m||i.options.wheelAction!="none"&&(i._bind("DOMMouseScroll"),i._bind("mousewheel")),i.options.checkDOMChanges&&(i.checkDOMTime=setInterval(function(){i._checkDOMChanges()},500))};L.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case w:if(!m&&e.button!==0)return;t._start(e);break;case E:t._move(e);break;case S:case x:t._end(e);break;case b:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(e);break;case T:t._transitionEnd(e)}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)return;this.refresh()},_scrollbar:function(e){var r=this,i;if(!r[e+"Scrollbar"]){r[e+"ScrollbarWrapper"]&&(g&&(r[e+"ScrollbarIndicator"].style[o]=""),r[e+"ScrollbarWrapper"].parentNode.removeChild(r[e+"ScrollbarWrapper"]),r[e+"ScrollbarWrapper"]=null,r[e+"ScrollbarIndicator"]=null);return}r[e+"ScrollbarWrapper"]||(i=t.createElement("div"),r.options.scrollbarClass?i.className=r.options.scrollbarClass+e.toUpperCase():i.style.cssText="position:absolute;z-index:100;"+(e=="h"?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px"),i.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?"0":"1"),r.wrapper.appendChild(i),r[e+"ScrollbarWrapper"]=i,i=t.createElement("div"),r.options.scrollbarClass||(i.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+(e=="h"?"height:100%":"width:100%")+";"+s+"border-radius:3px;border-radius:3px"),i.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+k,r.options.useTransition&&(i.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),r[e+"ScrollbarWrapper"].appendChild(i),r[e+"ScrollbarIndicator"]=i),e=="h"?(r.hScrollbarSize=r.hScrollbarWrapper.clientWidth,r.hScrollbarIndicatorSize=n.max(n.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8),r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px",r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize,r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX):(r.vScrollbarSize=r.vScrollbarWrapper.clientHeight,r.vScrollbarIndicatorSize=n.max(n.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8),r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px",r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize,r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY),r._scrollbarPos(e,!0)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},h?200:0)},_pos:function(e,t){if(this.zoomed)return;e=this.hScroll?e:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[o]="translate("+e+"px,"+t+"px) scale("+this.scale+")"+k:(e=n.round(e),t=n.round(t),this.scroller.style.left=e+"px",this.scroller.style.top=t+"px"),this.x=e,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(e,t){var r=this,i=e=="h"?r.x:r.y,s;if(!r[e+"Scrollbar"])return;i=r[e+"ScrollbarProp"]*i,i<0?(r.options.fixedScrollbar||(s=r[e+"ScrollbarIndicatorSize"]+n.round(i*3),s<8&&(s=8),r[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px"),i=0):i>r[e+"ScrollbarMaxScroll"]&&(r.options.fixedScrollbar?i=r[e+"ScrollbarMaxScroll"]:(s=r[e+"ScrollbarIndicatorSize"]-n.round((i-r[e+"ScrollbarMaxScroll"])*3),s<8&&(s=8),r[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px",i=r[e+"ScrollbarMaxScroll"]+(r[e+"ScrollbarIndicatorSize"]-s))),r[e+"ScrollbarWrapper"].style[c]="0",r[e+"ScrollbarWrapper"].style.opacity=t&&r.options.hideScrollbar?"0":"1",r[e+"ScrollbarIndicator"].style[o]="translate("+(e=="h"?i+"px,0)":"0,"+i+"px)")+k},_start:function(t){var r=this,i=m?t.touches[0]:t,s,u,a,f,l;if(!r.enabled)return;r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,t),(r.options.useTransition||r.options.zoom)&&r._transitionTime(0),r.moved=!1,r.animating=!1,r.zoomed=!1,r.distX=0,r.distY=0,r.absDistX=0,r.absDistY=0,r.dirX=0,r.dirY=0,r.options.zoom&&m&&t.touches.length>1&&(f=n.abs(t.touches[0].pageX-t.touches[1].pageX),l=n.abs(t.touches[0].pageY-t.touches[1].pageY),r.touchesDistStart=n.sqrt(f*f+l*l),r.originX=n.abs(t.touches[0].pageX+t.touches[1].pageX-r.wrapperOffsetLeft*2)/2-r.x,r.originY=n.abs(t.touches[0].pageY+t.touches[1].pageY-r.wrapperOffsetTop*2)/2-r.y,r.options.onZoomStart&&r.options.onZoomStart.call(r,t));if(r.options.momentum){r.options.useTransform?(s=getComputedStyle(r.scroller,null)[o].replace(/[^0-9\-.,]/g,"").split(","),u=+(s[12]||s[4]),a=+(s[13]||s[5])):(u=+getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,""),a=+getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,""));if(u!=r.x||a!=r.y)r.options.useTransition?r._unbind(T):C(r.aniTime),r.steps=[],r._pos(u,a),r.options.onScrollEnd&&r.options.onScrollEnd.call(r)}r.absStartX=r.x,r.absStartY=r.y,r.startX=r.x,r.startY=r.y,r.pointX=i.pageX,r.pointY=i.pageY,r.startTime=t.timeStamp||Date.now(),r.options.onScrollStart&&r.options.onScrollStart.call(r,t),r._bind(E,e),r._bind(S,e),r._bind(x,e)},_move:function(e){var t=this,r=m?e.touches[0]:e,i=r.pageX-t.pointX,s=r.pageY-t.pointY,u=t.x+i,a=t.y+s,f,l,c,h=e.timeStamp||Date.now();t.options.onBeforeScrollMove&&t.options.onBeforeScrollMove.call(t,e);if(t.options.zoom&&m&&e.touches.length>1){f=n.abs(e.touches[0].pageX-e.touches[1].pageX),l=n.abs(e.touches[0].pageY-e.touches[1].pageY),t.touchesDist=n.sqrt(f*f+l*l),t.zoomed=!0,c=1/t.touchesDistStart*t.touchesDist*this.scale,c<t.options.zoomMin?c=.5*t.options.zoomMin*Math.pow(2,c/t.options.zoomMin):c>t.options.zoomMax&&(c=2*t.options.zoomMax*Math.pow(.5,t.options.zoomMax/c)),t.lastScale=c/this.scale,u=this.originX-this.originX*t.lastScale+this.x,a=this.originY-this.originY*t.lastScale+this.y,this.scroller.style[o]="translate("+u+"px,"+a+"px) scale("+c+")"+k,t.options.onZoom&&t.options.onZoom.call(t,e);return}t.pointX=r.pageX,t.pointY=r.pageY;if(u>0||u<t.maxScrollX)u=t.options.bounce?t.x+i/2:u>=0||t.maxScrollX>=0?0:t.maxScrollX;if(a>t.minScrollY||a<t.maxScrollY)a=t.options.bounce?t.y+s/2:a>=t.minScrollY||t.maxScrollY>=0?t.minScrollY:t.maxScrollY;t.distX+=i,t.distY+=s,t.absDistX=n.abs(t.distX),t.absDistY=n.abs(t.distY);if(t.absDistX<6&&t.absDistY<6)return;t.options.lockDirection&&(t.absDistX>t.absDistY+5?(a=t.y,s=0):t.absDistY>t.absDistX+5&&(u=t.x,i=0)),t.moved=!0,t._pos(u,a),t.dirX=i>0?-1:i<0?1:0,t.dirY=s>0?-1:s<0?1:0,h-t.startTime>300&&(t.startTime=h,t.startX=t.x,t.startY=t.y),t.options.onScrollMove&&t.options.onScrollMove.call(t,e)},_end:function(r){if(m&&r.touches.length!==0)return;var i=this,s=m?r.changedTouches[0]:r,u,f,l={dist:0,time:0},c={dist:0,time:0},h=(r.timeStamp||Date.now())-i.startTime,p=i.x,d=i.y,v,g,y,b,w;i._unbind(E,e),i._unbind(S,e),i._unbind(x,e),i.options.onBeforeScrollEnd&&i.options.onBeforeScrollEnd.call(i,r);if(i.zoomed){w=i.scale*i.lastScale,w=Math.max(i.options.zoomMin,w),w=Math.min(i.options.zoomMax,w),i.lastScale=w/i.scale,i.scale=w,i.x=i.originX-i.originX*i.lastScale+i.x,i.y=i.originY-i.originY*i.lastScale+i.y,i.scroller.style[a]="200ms",i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px) scale("+i.scale+")"+k,i.zoomed=!1,i.refresh(),i.options.onZoomEnd&&i.options.onZoomEnd.call(i,r);return}if(!i.moved){m&&(i.doubleTapTimer&&i.options.zoom?(clearTimeout(i.doubleTapTimer),i.doubleTapTimer=null,i.options.onZoomStart&&i.options.onZoomStart.call(i,r),i.zoom(i.pointX,i.pointY,i.scale==1?i.options.doubleTapZoom:1),i.options.onZoomEnd&&setTimeout(function(){i.options.onZoomEnd.call(i,r)},200)):this.options.handleClick&&(i.doubleTapTimer=setTimeout(function(){i.doubleTapTimer=null,u=s.target;while(u.nodeType!=1)u=u.parentNode;u.tagName!="SELECT"&&u.tagName!="INPUT"&&u.tagName!="TEXTAREA"&&(f=t.createEvent("MouseEvents"),f.initMouseEvent("click",!0,!0,r.view,1,s.screenX,s.screenY,s.clientX,s.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null),f._fake=!0,u.dispatchEvent(f))},i.options.zoom?250:0))),i._resetPos(400),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}if(h<300&&i.options.momentum){l=p?i._momentum(p-i.startX,h,-i.x,i.scrollerW-i.wrapperW+i.x,i.options.bounce?i.wrapperW:0):l,c=d?i._momentum(d-i.startY,h,-i.y,i.maxScrollY<0?i.scrollerH-i.wrapperH+i.y-i.minScrollY:0,i.options.bounce?i.wrapperH:0):c,p=i.x+l.dist,d=i.y+c.dist;if(i.x>0&&p>0||i.x<i.maxScrollX&&p<i.maxScrollX)l={dist:0,time:0};if(i.y>i.minScrollY&&d>i.minScrollY||i.y<i.maxScrollY&&d<i.maxScrollY)c={dist:0,time:0}}if(l.dist||c.dist){y=n.max(n.max(l.time,c.time),10),i.options.snap&&(v=p-i.absStartX,g=d-i.absStartY,n.abs(v)<i.options.snapThreshold&&n.abs(g)<i.options.snapThreshold?i.scrollTo(i.absStartX,i.absStartY,200):(b=i._snap(p,d),p=b.x,d=b.y,y=n.max(b.time,y))),i.scrollTo(n.round(p),n.round(d),y),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}if(i.options.snap){v=p-i.absStartX,g=d-i.absStartY,n.abs(v)<i.options.snapThreshold&&n.abs(g)<i.options.snapThreshold?i.scrollTo(i.absStartX,i.absStartY,200):(b=i._snap(i.x,i.y),(b.x!=i.x||b.y!=i.y)&&i.scrollTo(b.x,b.y,b.time)),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}i._resetPos(200),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r)},_resetPos:function(e){var t=this,n=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(n==t.x&&r==t.y){t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&(i=="webkit"&&(t.hScrollbarWrapper.style[c]="300ms"),t.hScrollbarWrapper.style.opacity="0"),t.vScrollbar&&t.options.hideScrollbar&&(i=="webkit"&&(t.vScrollbarWrapper.style[c]="300ms"),t.vScrollbarWrapper.style.opacity="0");return}t.scrollTo(n,r,e||0)},_wheel:function(e){var t=this,n,r,i,s,o;if("wheelDeltaX"in e)n=e.wheelDeltaX/12,r=e.wheelDeltaY/12;else if("wheelDelta"in e)n=r=e.wheelDelta/12;else{if(!("detail"in e))return;n=r=-e.detail*3}if(t.options.wheelAction=="zoom"){o=t.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0)),o<t.options.zoomMin&&(o=t.options.zoomMin),o>t.options.zoomMax&&(o=t.options.zoomMax),o!=t.scale&&(!t.wheelZoomCount&&t.options.onZoomStart&&t.options.onZoomStart.call(t,e),t.wheelZoomCount++,t.zoom(e.pageX,e.pageY,o,400),setTimeout(function(){t.wheelZoomCount--,!t.wheelZoomCount&&t.options.onZoomEnd&&t.options.onZoomEnd.call(t,e)},400));return}i=t.x+n,s=t.y+r,i>0?i=0:i<t.maxScrollX&&(i=t.maxScrollX),s>t.minScrollY?s=t.minScrollY:s<t.maxScrollY&&(s=t.maxScrollY),t.maxScrollY<0&&t.scrollTo(i,s,0)},_transitionEnd:function(e){var t=this;if(e.target!=t.scroller)return;t._unbind(T),t._startAni()},_startAni:function(){var e=this,t=e.x,r=e.y,i=Date.now(),s,o,u;if(e.animating)return;if(!e.steps.length){e._resetPos(400);return}s=e.steps.shift(),s.x==t&&s.y==r&&(s.time=0),e.animating=!0,e.moved=!0;if(e.options.useTransition){e._transitionTime(s.time),e._pos(s.x,s.y),e.animating=!1,s.time?e._bind(T):e._resetPos(0);return}u=function(){var a=Date.now(),f,l;if(a>=i+s.time){e._pos(s.x,s.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),e._startAni();return}a=(a-i)/s.time-1,o=n.sqrt(1-a*a),f=(s.x-t)*o+t,l=(s.y-r)*o+r,e._pos(f,l),e.animating&&(e.aniTime=N(u))},u()},_transitionTime:function(e){e+="ms",this.scroller.style[a]=e,this.hScrollbar&&(this.hScrollbarIndicator.style[a]=e),this.vScrollbar&&(this.vScrollbarIndicator.style[a]=e)},_momentum:function(e,t,r,i,s){var o=6e-4,u=n.abs(e)/t,a=u*u/(2*o),f=0,l=0;return e>0&&a>r?(l=s/(6/(a/u*o)),r+=l,u=u*r/a,a=r):e<0&&a>i&&(l=s/(6/(a/u*o)),i+=l,u=u*i/a,a=i),a*=e<0?-1:1,f=u/o,{dist:a,time:n.round(f)}},_offset:function(e){var t=-e.offsetLeft,n=-e.offsetTop;while(e=e.offsetParent)t-=e.offsetLeft,n-=e.offsetTop;return e!=this.wrapper&&(t*=this.scale,n*=this.scale),{left:t,top:n}},_snap:function(e,t){var r=this,i,s,o,u,a,f;o=r.pagesX.length-1;for(i=0,s=r.pagesX.length;i<s;i++)if(e>=r.pagesX[i]){o=i;break}o==r.currPageX&&o>0&&r.dirX<0&&o--,e=r.pagesX[o],a=n.abs(e-r.pagesX[r.currPageX]),a=a?n.abs(r.x-e)/a*500:0,r.currPageX=o,o=r.pagesY.length-1;for(i=0;i<o;i++)if(t>=r.pagesY[i]){o=i;break}return o==r.currPageY&&o>0&&r.dirY<0&&o--,t=r.pagesY[o],f=n.abs(t-r.pagesY[r.currPageY]),f=f?n.abs(r.y-t)/f*500:0,r.currPageY=o,u=n.round(n.max(a,f))||200,{x:e,y:t,time:u}},_bind:function(e,t,n){(t||this.scroller).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this.scroller).removeEventListener(e,this,!!n)},destroy:function(){var t=this;t.scroller.style[o]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(b,e),t._unbind(w),t._unbind(E,e),t._unbind(S,e),t._unbind(x,e),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(T),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var e=this,t,r,i,s,o=0,u=0;e.scale<e.options.zoomMin&&(e.scale=e.options.zoomMin),e.wrapperW=e.wrapper.clientWidth||1,e.wrapperH=e.wrapper.clientHeight||1,e.minScrollY=-e.options.topOffset||0,e.scrollerW=n.round(e.scroller.offsetWidth*e.scale),e.scrollerH=n.round((e.scroller.offsetHeight+e.minScrollY)*e.scale),e.maxScrollX=e.wrapperW-e.scrollerW,e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY,e.dirX=0,e.dirY=0,e.options.onRefresh&&e.options.onRefresh.call(e),e.hScroll=e.options.hScroll&&e.maxScrollX<0,e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH),e.hScrollbar=e.hScroll&&e.options.hScrollbar,e.vScrollbar=e.vScroll&&e.options.vScrollbar&&e.scrollerH>e.wrapperH,t=e._offset(e.wrapper),e.wrapperOffsetLeft=-t.left,e.wrapperOffsetTop=-t.top;if(typeof e.options.snap=="string"){e.pagesX=[],e.pagesY=[],s=e.scroller.querySelectorAll(e.options.snap);for(r=0,i=s.length;r<i;r++)o=e._offset(s[r]),o.left+=e.wrapperOffsetLeft,o.top+=e.wrapperOffsetTop,e.pagesX[r]=o.left<e.maxScrollX?e.maxScrollX:o.left*e.scale,e.pagesY[r]=o.top<e.maxScrollY?e.maxScrollY:o.top*e.scale}else if(e.options.snap){e.pagesX=[];while(o>=e.maxScrollX)e.pagesX[u]=o,o-=e.wrapperW,u++;e.maxScrollX%e.wrapperW&&(e.pagesX[e.pagesX.length]=e.maxScrollX-e.pagesX[e.pagesX.length-1]+e.pagesX[e.pagesX.length-1]),o=0,u=0,e.pagesY=[];while(o>=e.maxScrollY)e.pagesY[u]=o,o-=e.wrapperH,u++;e.maxScrollY%e.wrapperH&&(e.pagesY[e.pagesY.length]=e.maxScrollY-e.pagesY[e.pagesY.length-1]+e.pagesY[e.pagesY.length-1])}e._scrollbar("h"),e._scrollbar("v"),e.zoomed||(e.scroller.style[a]="0",e._resetPos(400))},scrollTo:function(e,t,n,r){var i=this,s=e,o,u;i.stop(),s.length||(s=[{x:e,y:t,time:n,relative:r}]);for(o=0,u=s.length;o<u;o++)s[o].relative&&(s[o].x=i.x-s[o].x,s[o].y=i.y-s[o].y),i.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0});i._startAni()},scrollToElement:function(e,t){var r=this,i;e=e.nodeType?e:r.scroller.querySelector(e);if(!e)return;i=r._offset(e),i.left+=r.wrapperOffsetLeft,i.top+=r.wrapperOffsetTop,i.left=i.left>0?0:i.left<r.maxScrollX?r.maxScrollX:i.left,i.top=i.top>r.minScrollY?r.minScrollY:i.top<r.maxScrollY?r.maxScrollY:i.top,t=t===undefined?n.max(n.abs(i.left)*2,n.abs(i.top)*2):t,r.scrollTo(i.left,i.top,t)},scrollToPage:function(e,t,n){var r=this,i,s;n=n===undefined?400:n,r.options.onScrollStart&&r.options.onScrollStart.call(r),r.options.snap?(e=e=="next"?r.currPageX+1:e=="prev"?r.currPageX-1:e,t=t=="next"?r.currPageY+1:t=="prev"?r.currPageY-1:t,e=e<0?0:e>r.pagesX.length-1?r.pagesX.length-1:e,t=t<0?0:t>r.pagesY.length-1?r.pagesY.length-1:t,r.currPageX=e,r.currPageY=t,i=r.pagesX[e],s=r.pagesY[t]):(i=-r.wrapperW*e,s=-r.wrapperH*t,i<r.maxScrollX&&(i=r.maxScrollX),s<r.maxScrollY&&(s=r.maxScrollY)),r.scrollTo(i,s,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(E,e),this._unbind(S,e),this._unbind(x,e)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(T):C(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(e,t,n,r){var i=this,s=n/i.scale;if(!i.options.useTransform)return;i.zoomed=!0,r=r===undefined?200:r,e=e-i.wrapperOffsetLeft-i.x,t=t-i.wrapperOffsetTop-i.y,i.x=e-e*s+i.x,i.y=t-t*s+i.y,i.scale=n,i.refresh(),i.x=i.x>0?0:i.x<i.maxScrollX?i.maxScrollX:i.x,i.y=i.y>i.minScrollY?i.minScrollY:i.y<i.maxScrollY?i.maxScrollY:i.y,i.scroller.style[a]=r+"ms",i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px) scale("+n+")"+k,i.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},r=null,typeof exports!="undefined"?exports.iScroll=L:e.iScroll=L}(window,document),function(e,t,n,r){e.widget("mobile.dvciScrollview",e.mobile.widget,{iscroll:null,useDefaultEventSeloctor:["select","input","textarea"],$parentPage:[],$wrapper:[],$scroller:[],$pullToRefresh:[],options:{direction:"all",momentum:!0,topOffset:0,scrollerWidth:0,scrollerHeight:0,scrollbar:!0,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,pullToRefresh:"none",pullToText:"Pull up to refresh...",pullToPulledText:"Release to refresh...",pullToLoadingText:"Loading...",preventDefault:!0,theme:null,initSelector:":jqmData(role='dvciScrollview')"},_proxyEventFuncs:{onRefresh:function(){var t=e(this.wrapper),n=t.data("mobileDvciScrollview");n._trigger("refresh"),n._pullOnRefresh()},onBeforeScrollStart:function(t){var n,r=t.target,i=e(this.wrapper),s=this.options,o=i.data("mobileDvciScrollview");o._trigger("beforescrollstart",t);if(s.preventDefault){while(r.nodeType!==1)r=r.parentNode;var u=o.defaultEventSelector();for(var a=0;a<u.length;a++){var f=e(r).closest(u[a]);if(f.length)return}t.preventDefault()}},onScrollStart:function(t){var n=e(this.wrapper),r=n.data("mobileDvciScrollview");r._trigger("scrollstart",t)},onBeforeScrollMove:function(t){var n=e(this.wrapper),r=n.data("mobileDvciScrollview");r._trigger("beforescrollmove",t)},onScrollMove:function(t){var n=e(this.wrapper),r=n.data("mobileDvciScrollview");r._trigger("scrollmove",t),r._pullOnScrollMove(t)},onBeforeScrollEnd:function(t){var n=e(this.wrapper),r=n.data("mobileDvciScrollview");r._trigger("beforescrollend",t)},onScrollEnd:function(){var t=e(this.wrapper),n=t.data("mobileDvciScrollview");n._trigger("scrollend"),n._pullOnScrollEnd()},onTouchEnd:function(t){var n=e(this.wrapper),r=n.data("mobileDvciScrollview");r._trigger("touchend",t)},onDestroy:function(){var t=e(this.wrapper),n=t.data("mobileDvciScrollview");n._trigger("destroy")},onZoomStart:function(t){var n=e(this.wrapper),r=n.data("mobileDvciScrollview");r._trigger("zoomstart",t)},onZoom:function(t){var n=e(this.wrapper),r=n.data("mobileDvciScrollview");r._trigger("zoom",t)},onZoomEnd:function(t){var n=e(this.wrapper),r=n.data("mobileDvciScrollview");r._trigger("zoomend",t)}},_create:function(){var t=this.element,n=this,r=this.options;this.$wrapper=t,t.addClass("dvc-iscrollview"),r.theme||(r.theme=e.mobile.getInheritedTheme(t,"c")),t.addClass("ui-body-"+r.theme),this._createScroller(),this._modifyScroller(),this.$scroller=this.$wrapper.children(":first"),this.$pullToRefresh=this.$scroller.find(".dvc-iscrollview-pull"),this._modifyPulltoElement(),this._setTopOffsetForPullToRefresh(),this._createiScroll(),r.pullToRefresh!=="none"&&this.scrollTo(0,-r.topOffset,0);var i=t.closest(".ui-page");this.$parentPage=i,i.one("pageshow",function(){setTimeout(function(){n.refresh()},100)})},_setTopOffsetForPullToRefresh:function(){var e=this,t=this.options;t.pullToRefresh!=="none"&&this.$pullToRefresh.length&&!t.topOffset&&(t.topOffset=this.$pullToRefresh.outerHeight(!0))},_createPullToChildElement:function(){var t=this,n=this.options,r=e("<span></span>").addClass("dvc-iscrollview-pull-icon"),i=e("<span></span>").addClass("dvc-iscrollview-pull-label").text(n.pullToText);this.$pullToRefresh.append(r,i)},_modifyPulltoElement:function(){var t=this,n=this.options;if(n.pullToRefresh==="default"){if(!this.$pullToRefresh.length){var r=e("<div class='dvc-iscrollview-pull'></div>");this.$scroller.prepend(r),this.$pullToRefresh=r}this.$pullToRefresh.children().length||this._createPullToChildElement()}},_pullOnScrollMove:function(e){var t=this,n=this.options,r=this.iscroll,i,s,o,u=r.y;n.pullToRefresh!=="none"&&(i=this._pullToRefreshIsPulled(),s=n.topOffset,o=s/2,!i&&u>o?(this._pullToRefreshSetState("pulled",e),r.minScrollY=0):i&&u<=0&&(this._pullToRefreshSetState("reset",e),r.minScrollY=-s))},_pullOnScrollEnd:function(){var e=this,t=this.options;t.pullToRefresh!=="none"&&this._pullToRefreshIsPulled()&&this._pullToRefreshSetState("loading")},_pullOnRefresh:function(){var e=this,t=this.options;t.pullToRefresh!=="none"&&this._pullToRefreshSetState("reset")},_replacePullText:function(t,n){var r,i=".dvc-iscrollview-pull-label";n&&(r=e(i,t),r&&r.text(n))},_pullToRefreshIsPulled:function(){var e=this.$pullToRefresh;return e.length&&e.hasClass("dvc-iscrollview-pull-pulled")},_pullToRefreshSetState:function(e,t){var n=this.element,r=this,i=this.options,s,o;s=this.$pullToRefresh;switch(e){case"reset":o=i.pullToText,s.is(".dvc-iscrollview-pull-loading, .dvc-iscrollview-pull-pulled")&&s.removeClass("dvc-iscrollview-pull-loading dvc-iscrollview-pull-pulled"),this._trigger("onpullreset",t);break;case"pulled":o=i.pullToPulledText,s.removeClass("dvc-iscrollview-pull-loading").addClass("dvc-iscrollview-pull-pulled"),this._trigger("onpullpulled",t);break;case"loading":o=i.pullToLoadingText,s.removeClass("dvc-iscrollview-pull-pulled").addClass("dvc-iscrollview-pull-loading"),this._trigger("onpullloading",null,r)}this._replacePullText(s,o)},_createScroller:function(){this.$wrapper.children().hasClass("dvc-iscrollview-scroller")||(this.$wrapper.children().wrapAll("<div/>"),this.$wrapper.children().addClass("dvc-iscrollview-scroller"))},_modifyScroller:function(){var e=this,t=this.options,n=this.$scroller;t.scrollerWidth&&n.css("min-width",t.scrollerWidth),t.scrollerHeight&&n.css("min-height",t.scrollerHeight)},_createiScroll:function(){var e=this.element,t=this;this.iscroll=new iScroll(e.get(0),this._createiScrollOptions())},_createiScrollOptions:function(){var t=e.extend(!0,{},this.options);return t.direction=="x"?(t.hScroll=!0,t.vScroll=!1):t.direction=="y"?(t.vScroll=!0,t.hScroll=!1):(t.hScroll=!0,t.vScroll=!0),delete t.direction,t.scrollbar?(t.hScrollbar=t.hScroll,t.vScrollbar=t.vScroll):(t.hScrollbar=!1,t.vScrollbar=!1),delete t.scrollbar,e.extend(t,this._proxyEventFuncs)},destroy:function(){this.iscroll&&this.iscroll.destroy()},refresh:function(){this.iscroll&&this.iscroll.refresh()},scrollTo:function(e,t,n,r){this.iscroll&&this.iscroll.scrollTo(e,t,n,r)},scrollToElement:function(e,t){this.iscroll&&this.iscroll.scrollToElement(e,t)},scrollToPage:function(e,t,n){this.iscroll&&this.iscroll.scrollToPage(e,t,n)},disable:function(){this.iscroll&&this.iscroll.disable()},enable:function(){this.iscroll&&this.iscroll.enable()},stop:function(){this.iscroll&&this.iscroll.stop()},zoom:function(e,t,n,r){this.iscroll&&this.iscroll.zoom(e,t,n,r)},isReady:function(){this.iscroll&&this.iscroll.isReady()},resetPullToRefresh:function(){this.$pullToRefresh.length&&this._pullOnRefresh()},defaultEventSelector:function(e){if(!arguments.length)return this.useDefaultEventSeloctor;this.useDefaultEventSeloctor&&(e.constructor==Array?this.useDefaultEventSeloctor=this.useDefaultEventSeloctor.concat(e):this.useDefaultEventSeloctor.push(e))}}),e(n).bind("pagecreate",function(t){e.mobile.dvciScrollview.prototype.enhanceWithin(t.target,!0)})}(jQuery,window,document),function(e,t){var n=function(t,n){for(item in n)if(e(n[item]).is(e(t)))return!0;return!1},r=function(e,t){var n=e.css(t);return n=n.replace("px",""),parseInt(n)};e.widget("mobile.dvcSlideview",e.mobile.widget,{options:{slideEdge:"none",initSelector:":jqmData(role='dvcSlideview')",overflow:"hidden",tapSlide:!1,preventDefault:!0,slideDuration:200,sliderTheme:null,pageTheme:null,pagefill:null},_create:function(){var t=this.element,n=this,r=this.options,i=document.createElement("div").style,s,o={webkitTransform:"-webkit-",MozTransfrom:"-moz-",msTransfrom:"-ms-",OTransfrom:"-o-"};this._cssPrefix=this._translateZ="";for(s in o)if(s in i){this._cssPrefix=o[s],this._translateZ=this._cssPrefix+"perspective"in i?this._cssPrefix+"translateZ(0)":"";break}this.options.sliderTheme||(this.options.sliderTheme=e.mobile.getInheritedTheme(this.element,"c")),this.options.pageTheme||(this.options.pageTheme=e.mobile.getInheritedTheme(this.element,"c")),e.inArray(r.slideEdge,["none","loop","infinite"])==-1&&(r.slideEdge="none"),t.bind("swipeleft",function(e){n.slide("left")}).bind("swiperight",function(e){n.slide("right")}),this._setWrapper(),this.masterPages=[],this._superApply(arguments)},_arrange:function(t,n){var r=this.element,i;i=this.masterPages[0].width(),e.isNumeric(t)||(t=e.inArray(t,this.masterPages),t==-1&&(t=0)),e.isNumeric(n)||(n=0),n-=t*i;for(t=0;t<this.masterPages.length;t++)this.masterPages[t].css("left",n+"px"),n+=i},insert:function(t,n,r){e.isArray(t)||(t=[t]);var i=this.element,s=this,o=this.options,u;if(e.isNumeric(t)){u=t,t=[];for(var a=0;a<u;a++)t[a]=a}else{if(!(t.length>0))return;u=t.length}var f=this.getMasterPage(n),l=this._createMasterPages(t,0);i.find(".dvc-slidingview-slider").append(l);var c=e.inArray(f,this.masterPages);r||c++;var h=_.first(this.masterPages,c),p=_.last(this.masterPages,this.masterPages.length-c);this.masterPages=_.union(h,l,p),this._arrange(this.cursor,0)},prepend:function(e,t){this.insert(e,t,!0)},append:function(e,t){this.insert(e,t)},remove:function(n){e.isArray(n)||(n=[n]);var r=e.inArray(this.getMasterPage(),this.masterPages),i=[],s=this.masterPages.length;while(s>0){s--;var o=this.masterPages.data("userobj");if(e.inArray(o,n)!=-1){var u=this.masterPages[s];i.push(u),u.remove(),this.masterPages[s]=t}}var a=t;for(s=r;s<this.masterPages.length;s++)if(this.masterPages[s]){a=this.masterPages[s];break}if(!a){s=r-1;while(s>=0){if(this.masterPages[s]){a=this.masterPages[s];break}s--}}return this.masterPages=_.without(this.masterPages,i),a&&this._arrange(a,0),i},set:function(t){var n=this.element,r=this,i=this.options,s;if(e.isNumeric(t)){s=t,t=[];for(var o=0;o<s;o++)t[o]=o}else{if(!e.isArray(t))return;if(t.length<=0)return;s=t.length}this._destoryMasterPages();var u=0;e.inArray(i.slideEdge,["loop","infinite"])!=-1&&(u=Math.ceil((s-1)/2)),this.masterPages=this._createMasterPages(t,u),n.find(".dvc-slidingview-slider").append(this.masterPages),this._arrange(u,0),this.cursor=this.masterPages[u]},html:function(n){if(n===t)return this.masterPages;var r=this.element,i=this,s=this.options;e.isArray(n)||(n=[n]);var o=s.pagefill;s.pagefill=function(t,r,i){return i<n.length&&e(t).html(n[i]),i},this.set(n.length),s.pagefill=o},getUserObjList:function(){var e=[],t;for(t in this.masterPages)e.push(this.masterPages[t].data("userobj"));return e},getUserObj:function(e){return e===t&&(e=this.cursor),n(e,this.masterPages)?e.data("userobj"):null},setUserObj:function(e,r){r===t&&(r=this.cursor),n(r,this.masterPages)&&r.data("userobj",e)},getMasterPage:function(e){var n=this.element,r=this,i=this.options,s=n.find(".dvc-slidingview-slider"),o=s.find(".dvc-slidingview-master");if(e===t)return this.cursor;var u=this.masterPages.length,a;for(a=0;a<u;a++)if(this.masterPages[a].data("userobj")===e)return this.masterPages[a];return null},_indexOfMasterPages:function(e){for(page in this.masterPages)if(this.masterPages[page][0]==e[0])return parseInt(page);return-1},_tab:function(t){if(!this.options.tapSlide)return;var n=e(t.currentTarget),r=this._indexOfMasterPages(n);if(r==-1||n==this.cursor)return;this.options.preventDefault&&t.preventDefault();var i=e.inArray(this.cursor,this.masterPages),s=Math.abs(r-i),o=parseInt(this.options.slideDuration/s);if(r<i)while(s--)this.slide("right",{duration:o});else while(s--)this.slide("left",{duration:o})},slide:function(t,n){if(this.masterPages.length<=1)return;var i=this.element,s=this,o=this.options,u;n=n||{};var a={duration:n.duration?n.duration:o.slideDuration,easing:n.easing?n.easing:"swing",queue:n.queue==0?!1:!0},f=i.find(".dvc-slidingview-slider"),l=f.find(".dvc-slidingview-master"),c=e.inArray(o.slideEdge,["loop","infinite"])==-1,h=s.masterPages.length,p=l.width(),d={left:s.masterPages[0],right:s.masterPages[h-1]};if(c&&s.cursor===d[t=="left"?"right":"left"])return;var v=Math.ceil((h-1)/2),m,g,y,b=function(){};t==="left"?(m=(e.inArray(s.cursor,s.masterPages)+1)%h,s.cursor=s.masterPages[m],u="-="+p+"px",c||(b=function(){y=s.masterPages[h-1],g=s.masterPages.shift();var e=r(y,"left")+p;g.css("left",e+"px"),s.masterPages.push(g),o.slideEdge==="infinite"&&s._requestPageFill(g,"left",y.data("userobj"),g.data("userobj"))})):t==="right"&&(m=(e.inArray(s.cursor,s.masterPages)+h-1)%h,s.cursor=s.masterPages[m],u="+="+p+"px",c||(b=function(){y=s.masterPages[0],g=s.masterPages.pop();var e=r(y,"left")-p;g.css("left",e+"px"),s.masterPages.unshift(g),o.slideEdge==="infinite"&&s._requestPageFill(g,"right",y.data("userobj"),g.data("userobj"))})),a.complete=function(){b.apply(s,[])},u&&f.animate({left:u},a)},_setWrapper:function(){var t=this.element,n=this,r=this.options;t.css({postion:"relative",overflow:r.overflow}),t.append(e("<div/>").addClass("dvc-slidingview-slider").addClass("ui-body-"+this.options.sliderTheme).css({position:"relative",top:"0px",left:"0px",width:"100%",height:"100%"})),this.masterPages=[]},_requestPageFill:function(e,t,n,r){var i=this.element,s=this,o=this.options;if(o.pagefill){var u=o.pagefill.apply(this,[e[0],t,n,r]);e.data("userobj",u),setTimeout(function(){e.trigger("create")},1)}},_createMasterPages:function(t,n){var r=this,i=[],s={position:"absolute",heigh:"100%",width:"100%"};s[this.cssTransformProp]=this._translateZ;var o=0,u=t.length;for(o=0;o<u;o++){var a=(o+n)%u;i[a]=e("<div/>").addClass("dvc-slidingview-master").addClass("ui-body-"+this.options.pageTheme).css(s).data("userobj",t[a]).bind("vclick",function(e){r._tab(e)}),this._requestPageFill(i[a],"create",t[a])}return i},_destoryMasterPages:function(){var t=this.element;while(this.masterPages.length>0)e(this.masterPages.pop()).remove();t.find(".dvc-slidingview-slider").css("left","0px")}}),e(document).bind("pagecreate create",function(t){e.mobile.dvcSlideview.prototype.enhanceWithin(t.target,!0)})}(jQuery),window.jQuery&&function(e){e.extend({xml2json:function(t,n){function r(t,s){if(!t)return null;var u="",a=null,f=null,l=t.nodeType,c=i(t.localName||t.nodeName),h=t.text||t.nodeValue||"";t.childNodes&&t.childNodes.length>0&&e.each(t.childNodes,function(e,t){var n=t.nodeType,s=i(t.localName||t.nodeName),f=t.text||t.nodeValue||"";if(n==8)return;if(n==3||n==4||!s){if(f.match(/^\s+$/))return;u+=f.replace(/^\s+/,"").replace(/\s+$/,"")}else a=a||{},a[s]?(a[s].length||(a[s]=o(a[s])),a[s]=o(a[s]),a[s][a[s].length]=r(t,!0),a[s].length=a[s].length):a[s]=r(t)}),t.attributes&&t.attributes.length>0&&(f={},a=a||{},e.each(t.attributes,function(e,t){var n=i(t.name),r=t.value;f[n]=r,a[n]?(a[cnn]=o(a[cnn]),a[n][a[n].length]=r,a[n].length=a[n].length):a[n]=r})),a&&(a=e.extend(u!=""?new String(u):{},a||{}),u=a.text?(typeof a.text=="object"?a.text:[a.text||""]).concat([u]):u,u&&(a.text=u),u="");var p=a||u;return n&&(u&&(p={}),u=p.text||u||"",u&&(p.text=u),s||(p=o(p))),p}function s(e){var t=/^((-)?([0-9]+)(([\.\,]{0,1})([0-9]+))?$)/;return typeof e=="number"||t.test(String(e&&typeof e=="string"?jQuery.trim(e):""))}if(!t)return{};var i=function(e){return String(e||"").replace(/-/g,"_")},o=function(t){return e.isArray(t)||(t=[t]),t.length=t.length,t};typeof t=="string"&&(t=e.text2xml(t));if(!t.nodeType)return;if(t.nodeType==3||t.nodeType==4)return t.nodeValue;var u=r(t,!0);return t=null,root=null,u},text2xml:function(t){var n;try{var r=e.browser.msie?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser;r.async=!1}catch(i){throw new Error("XML Parser could not be instantiated")}try{e.browser.msie?n=r.loadXML(t)?r:!1:n=r.parseFromString(t,"text/xml")}catch(i){throw new Error("Error parsing XML string")}return n}})}(jQuery);